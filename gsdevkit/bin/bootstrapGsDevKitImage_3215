# Debugging bootstrapMaster30.topz
set -e
. defStone.env
export vers="3.5.0_g"

rm -f *.log *.out

startTopaz $GEMSTONE_NAME -lq << EOF

	login

	run
	| upgrade bootstrap |
	upgrade := (((AllUsers userWithId: 'SystemUser') 
		objectNamed: #UserGlobals) 
			at: #'GsDevKit_Image_Upgrade').

	bootstrap := ((upgrade class _symbolDictionary at: #'GsuGsDevKitBootstrap')
		upgradeUserName: upgrade upgradeUserName
			upgradeSymbolDictName: upgrade upgradeSymbolDictName
			bootstrapGemStoneRelease: upgrade _bootstrapRelease)
		bootstrapPostLoadClassList: upgrade bootstrapPostLoadClassList;
		bootstrapRepositoryDirectory: upgrade bootstrapRepositoryDirectory;
		bootstrapApplicationLoadSpecs: upgrade bootstrapApplicationLoadSpecs; 
		bootstrapExistingConfigurationList: upgrade bootstrapExistingConfigurationList;
		yourself.

	bootstrap bootstrapGemStoneRelease bootstrapPackageFileNames do: [:bootstrapPackageFileName |
		GsPackageLibrary 
			loadMCZFile: bootstrapPackageFileName
			home: bootstrap upgradeSymbolDictName
			fromRepositoryPath: bootstrap bootstrapRepositoryDirectory ].
%

EOF
